
import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { theme1, theme2 } from "./custom-theme";
import { InputDemo, ButtonDemo, FieldDemo } from "./widgets";

export const theme = theme1;

# The Tricky Brilliance of
# Uncontrolled `<input />`s

---

<InputDemo />

---

<CodeSurfer theme={theme1}>

```md title="The component that launched a thousand apps"

* Quick to get started

* Effortless to get interactive

* Optionally controlled

```

</CodeSurfer>

---

<CodeSurfer theme={theme1}>

```md title="The component that launched a thousand apps"

* Expose complete control

* Provide reasonable default behavior

```

</CodeSurfer>

---

<CodeSurfer theme={theme2}>

```md title="The components that didn't..."

- Expose limited or awkward controls

- Provide limited or no default behavior

```

</CodeSurfer>

---

<CodeSurferColumns themes={[theme1, theme1]}>

<Step title="About me" subtitle="@jfinity -- Justin C. Moore">

```md

* Weight lifting, karaoke,
      static analysis and data structures
  - (not necessarily in that order)

* Looking for a D&D campaign

```

```md

* Former mobile game developer

* Current front-end developer

* Working in ad tech at MediaMath

```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns theme={[theme1, theme1]}>

<Step title="Design systems" subtitle="list of examples -- https://adele.uxpin.com/">

```md

* Component collections

* Not just for React

```

```md

* Reusable

* Composable

* Standardized

```

</Step>

</CodeSurferColumns>

---

<CodeSurfer theme={theme1}>

```md title="Design systems"

* Spread throughout the organization/community

* Encourage good habits and scalable architecture

* Apply to a variety of use cases
  - Expose complete control
    - ...State management?

```

</CodeSurfer>

---

# State Management
# ðŸ˜±

---

<CodeSurfer theme={theme1}>

```md title="Goals"

* Expose complete control
  - Prefer remote state management

* Provide reasonable default behavior
  - Make it quick to get started
  - Make it effortless to get interactive

```

</CodeSurfer>

---

<CodeSurfer theme={theme1}>

```md title="Techniques"

* Implement mini design system

* Spoilers
  - standard component structure
  - consistent callback property signatures
        (action, reducer) => {}

```

</CodeSurfer>

---

<CodeSurferColumns theme={[theme1, theme1]} sizes={[5, 7]}>

<Step title="Glossary">

```md

* Actions
  - describe events
  - { type: "label" }

* Adapter functions
  - bridge the gaps dissimilar APIs
  - (...params) => fn(...args)

```

```md

* Reducers
  - advance a state value with an action
  - (lastState, action) => nextState
  - React.useReducer(reducer)

* Updater functions
  - also advance a state value
  - (lastState) => nextState
  - React.useState(updater)

```

</Step>

</CodeSurferColumns>

---

<InputDemo />

---

<CodeSurferColumns themes={[theme1]}>


<Step title="Declare functional component">

```js  file=./keyframes/002-structure/01-component/a/01-a-1-01-ValueInput.js
```

</Step>



<Step title="Declare functional component">

```js 2,7,2,3:6,7 file=./keyframes/002-structure/01-component/a/01-a-2-01-ValueInput.js
```

</Step>



<Step title="Render some JSX">

```js 2,11,5,6:7,8[1:5] file=./keyframes/002-structure/02-render/a/02-a-1-01-ValueInput.js
```

</Step>



<Step title="Consume props">

```js 2,14,5,6[1:13] file=./keyframes/002-structure/03-props/a/03-a-1-01-ValueInput.js
```

</Step>



<Step title="Retrieve non-callback props">

```js 2,15,6[1:16] file=./keyframes/002-structure/03-props/a/03-a-2-01-ValueInput.js
```

</Step>



<Step title="Pass props to children">

```js 2,17,11[1:20] file=./keyframes/002-structure/03-props/a/03-a-3-01-ValueInput.js
```

</Step>



<Step title="Retrieve callback props">

```js 2,17,5,6,7[1:13] file=./keyframes/002-structure/03-props/a/03-a-4-01-ValueInput.js
```

</Step>



<Step title="Retrieve callback props">

```js 2,19,8[1:28] file=./keyframes/002-structure/03-props/a/03-a-5-01-ValueInput.js
```

</Step>



<Step title="Listen for child events">

```js 2,23,15,16,17[1:8] file=./keyframes/002-structure/03-props/a/03-a-6-01-ValueInput.js
```

</Step>



<Step>

```js 1:24 file=./keyframes/002-structure/03-props/a/03-a-7-01-ValueInput.js
```

</Step>



<Step title="Consume the component">

```js 22,26,22,23:25,26 file=./keyframes/002-structure/04-consumer/a/04-a-1-01-ValueInput.js
```

</Step>



<Step title="Render the component">

```js 22,31,24,25:27,28[1:5] file=./keyframes/002-structure/04-consumer/a/04-a-2-01-ValueInput.js
```

</Step>



<Step title="Pass props to the component">

```js 22,31,25,26[1:6] file=./keyframes/002-structure/04-consumer/a/04-a-3-01-ValueInput.js
```

</Step>



<Step title="Pass props to the component">

```js 22,35,24,25,26[1:5],29,30[1:6] file=./keyframes/002-structure/04-consumer/a/04-a-4-01-ValueInput.js
```

</Step>



<Step title="Pass props to the component">

```js 22,39,30,31:32,33[1:8] file=./keyframes/002-structure/04-consumer/a/04-a-5-01-ValueInput.js
```

</Step>



<Step title="Adapt signature from callback to state manager">

```js 22,39,32,33[1:8] file=./keyframes/002-structure/04-consumer/a/04-a-6-01-ValueInput.js
```

</Step>



<Step title="Adapters bridge the gaps between dissimilar APIs">

```js 22,40,33[1:46] file=./keyframes/002-structure/04-consumer/a/04-a-7-01-ValueInput.js
```

</Step>



<Step>

```js 22,40,22,23:39,40 file=./keyframes/002-structure/04-consumer/b/04-b-1-01-ValueInput.js
```

</Step>



<Step title="Reuse component">

```js 22,61,43,44:57,58[1:3] file=./keyframes/003-compare/05-consumer/a/005-a-1-01-ValueInput.js
```

</Step>



<Step title="Code duplication and logic proliferation burden">

```js 36,53,30,57[1:2] file=./keyframes/003-compare/05-consumer/a/005-a-2-01-ValueInput.js
```

</Step>



<Step>

```js 36,53,30,57[1:2] file=./keyframes/003-compare/05-consumer/a/005-a-3-01-ValueInput.js
```

</Step>



<Step>

```js 22,23:60,61 file=./keyframes/003-compare/05-consumer/a/005-a-3-01-ValueInput.js
```

</Step>



<Step title="Refactor component">

```js 2,3:24,25 file=./keyframes/003-compare/05-consumer/a/005-a-4-01-ValueInput.js
```

</Step>



<Step title="Refactor component">

```js 2,25,9 file=./keyframes/003-compare/05-consumer/a/005-a-4-01-ValueInput.js
```

</Step>



<Step title="Refactor component">

```js 2,25,9 file=./keyframes/003-compare/05-consumer/a/005-a-5-01-ValueInput.js
```

</Step>



<Step title="Adapt signature from callback to state manager">

```js 2,25,9 file=./keyframes/003-compare/05-consumer/a/005-a-6-01-ValueInput.js
```

</Step>



<Step title="Adapt signature from callback to state manager">

```js 2,25,16,17,18[1:8] file=./keyframes/003-compare/05-consumer/a/005-a-6-01-ValueInput.js
```

</Step>



<Step title="Adapters bridge the gaps between dissimilar APIs">

```js 2,29,20,21,22[1:8],12,13,14 file=./keyframes/003-compare/05-consumer/a/005-a-7-01-ValueInput.js
```

</Step>



<Step>

```js 2,29,20,21,22[1:8],12,13,14 file=./keyframes/003-compare/05-consumer/a/005-a-8-01-ValueInput.js
```

</Step>



<Step title="Different component with same structure">

```js  file=./keyframes/003-compare/05-consumer/a/005-a-9-01-ValueInput.js
```

</Step>


</CodeSurferColumns>

---

<ButtonDemo>Accept</ButtonDemo>

---

<CodeSurferColumns themes={[theme2, theme1]} sizes={[5, 7]}>


<Step title="Different component with same structure">

```js  file=./keyframes/003-compare/01-component/a/01-a-01-01-ValueInput.js
```

```js  file=./keyframes/003-compare/01-component/a/01-a-01-02-BasicButton.js
```

</Step>



<Step title="Declare functional component">

```js 2,7,2,3:6,7 file=./keyframes/003-compare/01-component/a/01-a-02-01-ValueInput.js
```

```js 2,7,2,3:6,7 file=./keyframes/003-compare/01-component/a/01-a-02-02-BasicButton.js
```

</Step>



<Step title="Render some JSX">

```js 2,11,5,6:7,8[1:5] file=./keyframes/003-compare/02-render/a/02-a-01-01-ValueInput.js
```

```js 2,11,5,6:7,8[1:5] file=./keyframes/003-compare/02-render/a/02-a-01-02-BasicButton.js
```

</Step>



<Step title="Consume props">

```js 2,14,5,6[1:13] file=./keyframes/003-compare/03-props/a/03-a-01-01-ValueInput.js
```

```js 2,14,5,6[1:13] file=./keyframes/003-compare/03-props/a/03-a-01-02-BasicButton.js
```

</Step>



<Step title="Retrieve non-callback props">

```js 2,15,6[1:16] file=./keyframes/003-compare/03-props/a/03-a-02-01-ValueInput.js
```

```js 2,17,6,7,8[1:25] file=./keyframes/003-compare/03-props/a/03-a-02-02-BasicButton.js
```

</Step>



<Step title="Pass props to children">

```js 2,17,11[1:20] file=./keyframes/003-compare/03-props/a/03-a-03-01-ValueInput.js
```

```js 2,20,15,13[1:61] file=./keyframes/003-compare/03-props/a/03-a-03-02-BasicButton.js
```

</Step>



<Step title="Retrieve callback props">

```js 2,17,5,6,7[1:13] file=./keyframes/003-compare/03-props/a/03-a-04-01-ValueInput.js
```

```js 2,20,5,6:8,9[1:13] file=./keyframes/003-compare/03-props/a/03-a-04-02-BasicButton.js
```

</Step>



<Step title="Retrieve callback props">

```js 2,19,8[1:41] file=./keyframes/003-compare/03-props/a/03-a-05-01-ValueInput.js
```

```js 2,25,10,11:12,13[1:24] file=./keyframes/003-compare/03-props/a/03-a-05-02-BasicButton.js
```

</Step>



<Step title="Adapt signature from callback to state manager">

```js 2,19,8[1:41] file=./keyframes/003-compare/03-props/a/03-a-06-01-ValueInput.js
```

```js 2,25,10,11:12,13[1:24] file=./keyframes/003-compare/03-props/a/03-a-06-02-BasicButton.js
```

</Step>



<Step title="Adapters bridge the gaps between dissimilar APIs">

```js 2,23,11,12,13 file=./keyframes/003-compare/03-props/a/03-a-07-01-ValueInput.js
```

```js 2,36,18,19:24,25[1:39] file=./keyframes/003-compare/03-props/a/03-a-07-02-BasicButton.js
```

</Step>



<Step title="Listen for child events">

```js 2,25,19[1:30] file=./keyframes/003-compare/03-props/a/03-a-08-01-ValueInput.js
```

```js 2,41,30,31:33,34[1:28] file=./keyframes/003-compare/03-props/a/03-a-08-02-BasicButton.js
```

</Step>



<Step>

```js 2,3:24,25 file=./keyframes/003-compare/03-props/a/03-a-09-01-ValueInput.js
```

```js 2,3:40,41 file=./keyframes/003-compare/03-props/a/03-a-09-02-BasicButton.js
```

</Step>



<Step title="Consume the component">

```js 24,28,24,25:27,28 file=./keyframes/003-compare/04-consumer/a/04-a-01-01-ValueInput.js
```

```js 40,44,40,41:43,44 file=./keyframes/003-compare/04-consumer/a/04-a-01-02-BasicButton.js
```

</Step>



<Step title="Consume the component">

```js 24,33,26,27:29,30[1:5] file=./keyframes/003-compare/04-consumer/a/04-a-02-01-ValueInput.js
```

```js 40,49,42,43:45,46[1:5] file=./keyframes/003-compare/04-consumer/a/04-a-02-02-BasicButton.js
```

</Step>



<Step title="Pass props to the component">

```js 24,37,26,27,28[1:5],31,32[1:6] file=./keyframes/003-compare/04-consumer/a/04-a-03-01-ValueInput.js
```

```js 40,53,42,43,44[1:5],47,48[1:6] file=./keyframes/003-compare/04-consumer/a/04-a-03-02-BasicButton.js
```

</Step>



<Step>

```js 24,39,32,33[1:26] file=./keyframes/003-compare/04-consumer/a/04-a-04-01-ValueInput.js
```

```js 40,57,52,48,49,50[1:36] file=./keyframes/003-compare/04-consumer/a/04-a-04-02-BasicButton.js
```

</Step>



<Step>

```js 24,25:38,39 file=./keyframes/003-compare/04-consumer/a/04-a-04-01-ValueInput.js
```

```js 40,41:56,57 file=./keyframes/003-compare/04-consumer/a/04-a-04-02-BasicButton.js
```

</Step>



<Step title="Reuse component">

```js 24,57,42,43:53,54[1:3] file=./keyframes/003-compare/04-consumer/a/04-a-05-01-ValueInput.js
```

```js 40,77,60,61:73,74[1:3] file=./keyframes/003-compare/04-consumer/a/04-a-05-02-BasicButton.js
```

</Step>



<Step title="Reuse component">

```js 24,57,35,36,49,50 file=./keyframes/003-compare/04-consumer/a/04-a-05-01-ValueInput.js
```

```js 40,77,51,52,53,67,68,69 file=./keyframes/003-compare/04-consumer/a/04-a-05-02-BasicButton.js
```

</Step>



<Step title="Lingering property-callback relationship implementation details">

```js 24,57,35,36,49,50 file=./keyframes/003-compare/04-consumer/a/04-a-06-01-ValueInput.js
```

```js 40,77,51,52,53,67,68,69 file=./keyframes/003-compare/04-consumer/a/04-a-06-02-BasicButton.js
```

</Step>



<Step>

```js 24,57,35,49,36,50 file=./keyframes/003-compare/04-consumer/a/04-a-07-01-ValueInput.js
```

```js 40,77,51,67,52,53,68,69 file=./keyframes/003-compare/04-consumer/a/04-a-07-02-BasicButton.js
```

</Step>



<Step>

```js 24,57,36,50,35,49 file=./keyframes/003-compare/04-consumer/a/04-a-08-01-ValueInput.js
```

```js 40,77,52,53,68,69,51,67 file=./keyframes/003-compare/04-consumer/a/04-a-08-02-BasicButton.js
```

</Step>



<Step>

```js 24,57,29,30,31,43,44,45 file=./keyframes/003-compare/04-consumer/a/04-a-08-01-ValueInput.js
```

```js 40,77,45,46,47,61,62,63 file=./keyframes/003-compare/04-consumer/a/04-a-08-02-BasicButton.js
```

</Step>



<Step>

```js 24,57,30,44,29,31,43,45 file=./keyframes/003-compare/04-consumer/a/04-a-09-01-ValueInput.js
```

```js 40,77,46,62,45,47,61,63 file=./keyframes/003-compare/04-consumer/a/04-a-09-02-BasicButton.js
```

</Step>



<Step>

```js 24,57,29,43,30,31,44,45 file=./keyframes/003-compare/04-consumer/a/04-a-10-01-ValueInput.js
```

```js 40,77,45,61,46,47,62,63 file=./keyframes/003-compare/04-consumer/a/04-a-10-02-BasicButton.js
```

</Step>



<Step>

```js 2,3:24,25 file=./keyframes/004-refactor/04-consumer/a/04-a-01-01-ValueInput.js
```

```js 2,3:40,41 file=./keyframes/004-refactor/04-consumer/a/04-a-01-02-BasicButton.js
```

</Step>



<Step>

```js 2,25,8 file=./keyframes/004-refactor/04-consumer/a/04-a-01-01-ValueInput.js
```

```js 2,41,12,13 file=./keyframes/004-refactor/04-consumer/a/04-a-01-02-BasicButton.js
```

</Step>



<Step title="Updaters are (optionally) functions from prior state to next state">

```js 2,25,8 file=./keyframes/004-refactor/04-consumer/a/04-a-02-01-ValueInput.js
```

```js 2,41,12,13 file=./keyframes/004-refactor/04-consumer/a/04-a-02-02-BasicButton.js
```

</Step>



<Step title="Updaters are (optionally) functions from prior state to next state">

```js 2,25,12 file=./keyframes/004-refactor/04-consumer/a/04-a-02-01-ValueInput.js
```

```js 2,41,19,22 file=./keyframes/004-refactor/04-consumer/a/04-a-02-02-BasicButton.js
```

</Step>



<Step title="Updaters are (optionally) functions from prior state to next state">

```js 2,29,12,13:15,16[1:6] file=./keyframes/004-refactor/04-consumer/a/04-a-03-01-ValueInput.js
```

```js 2,47,19,20,21,22,25,26,27,28 file=./keyframes/004-refactor/04-consumer/a/04-a-03-02-BasicButton.js
```

</Step>



<Step title="Sacrificed introspection and dynamic interpretation capabilities">

```js 2,28,11,12:15,16[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-04-01-ValueInput.js
```

```js 2,47,18,19:30,31[1:39] file=./keyframes/004-refactor/04-consumer/a/04-a-04-02-BasicButton.js
```

</Step>



<Step title="Sacrificed introspection and dynamic interpretation capabilities">

```js 2,28,8[1:42] file=./keyframes/004-refactor/04-consumer/a/04-a-04-01-ValueInput.js
```

```js 2,47,12,13[1:46] file=./keyframes/004-refactor/04-consumer/a/04-a-04-02-BasicButton.js
```

</Step>



<Step>

```js 2,28,8[1:40] file=./keyframes/004-refactor/04-consumer/a/04-a-05-01-ValueInput.js
```

```js 2,47,12,13[1:44] file=./keyframes/004-refactor/04-consumer/a/04-a-05-02-BasicButton.js
```

</Step>



<Step>

```js 2,28,11,16 file=./keyframes/004-refactor/04-consumer/a/04-a-05-01-ValueInput.js
```

```js 2,47,18,23,24,29 file=./keyframes/004-refactor/04-consumer/a/04-a-05-02-BasicButton.js
```

</Step>



<Step>

```js 2,29,12[1:53],11,17 file=./keyframes/004-refactor/04-consumer/a/04-a-06-01-ValueInput.js
```

```js 2,49,19,26,18,24,25,31 file=./keyframes/004-refactor/04-consumer/a/04-a-06-02-BasicButton.js
```

</Step>



<Step>

```js 2,29 file=./keyframes/004-refactor/04-consumer/a/04-a-06-01-ValueInput.js
```

```js 2,49,15,33 file=./keyframes/004-refactor/04-consumer/a/04-a-06-02-BasicButton.js
```

</Step>



<Step>

```js 2,29 file=./keyframes/004-refactor/04-consumer/a/04-a-07-01-ValueInput.js
```

```js 2,49,15,33 file=./keyframes/004-refactor/04-consumer/a/04-a-07-02-BasicButton.js
```

</Step>



<Step>

```js 2,29 file=./keyframes/004-refactor/04-consumer/a/04-a-08-01-ValueInput.js
```

```js 2,51,33,34,35[1:5],15 file=./keyframes/004-refactor/04-consumer/a/04-a-08-02-BasicButton.js
```

</Step>



<Step>

```js 2,3:28,29 file=./keyframes/004-refactor/04-consumer/a/04-a-08-01-ValueInput.js
```

```js 2,3:50,51 file=./keyframes/004-refactor/04-consumer/a/04-a-08-02-BasicButton.js
```

</Step>



<Step>

```js 28,29:42,43 file=./keyframes/004-refactor/04-consumer/a/04-a-09-01-ValueInput.js
```

```js 50,51:66,67 file=./keyframes/004-refactor/04-consumer/a/04-a-09-02-BasicButton.js
```

</Step>



<Step>

```js 28,43,37 file=./keyframes/004-refactor/04-consumer/a/04-a-09-01-ValueInput.js
```

```js 50,67,59,60 file=./keyframes/004-refactor/04-consumer/a/04-a-09-02-BasicButton.js
```

</Step>



<Step>

```js 28,46,34,35[1:5],40 file=./keyframes/004-refactor/04-consumer/a/04-a-10-01-ValueInput.js
```

```js 50,70,56,57[1:5],62,63 file=./keyframes/004-refactor/04-consumer/a/04-a-10-02-BasicButton.js
```

</Step>



<Step>

```js 28,50,34,35:38,39[1:5],44 file=./keyframes/004-refactor/04-consumer/a/04-a-11-01-ValueInput.js
```

```js 50,74,56,57:60,61[1:5],66,67 file=./keyframes/004-refactor/04-consumer/a/04-a-11-02-BasicButton.js
```

</Step>



<Step>

```js 28,50,34,35:38,39[1:5],44 file=./keyframes/004-refactor/04-consumer/a/04-a-12-01-ValueInput.js
```

```js 50,74,56,57:60,61[1:5],66,67 file=./keyframes/004-refactor/04-consumer/a/04-a-12-02-BasicButton.js
```

</Step>



<Step>

```js 28,50,34[24:39],36[25:43] file=./keyframes/004-refactor/04-consumer/a/04-a-12-01-ValueInput.js
```

```js 50,74,56[24:39],58[25:43] file=./keyframes/004-refactor/04-consumer/a/04-a-12-02-BasicButton.js
```

</Step>



<Step title="Reducers produce a next state from a prior state and an action">

```js 28,50,34[32:39],36[25:51] file=./keyframes/004-refactor/04-consumer/a/04-a-13-01-ValueInput.js
```

```js 50,74,56[32:39],58[25:51] file=./keyframes/004-refactor/04-consumer/a/04-a-13-02-BasicButton.js
```

</Step>



<Step title="Reducers produce a next state from a prior state and an action">

```js 28,50,34,35:38,39[1:5],44 file=./keyframes/004-refactor/04-consumer/a/04-a-13-01-ValueInput.js
```

```js 50,74,56,57:60,61[1:5],66,67 file=./keyframes/004-refactor/04-consumer/a/04-a-13-02-BasicButton.js
```

</Step>



<Step title="Reducers produce a next state from a prior state and an action">

```js 28,52,34,35:40,41[1:5],46 file=./keyframes/004-refactor/04-consumer/a/04-a-14-01-ValueInput.js
```

```js 50,76,56,57:62,63[1:5],68,69 file=./keyframes/004-refactor/04-consumer/a/04-a-14-02-BasicButton.js
```

</Step>



<Step title="manageState() is sufficient to fulfill any component callback">

```js 28,52,46,34,35:40,41[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-15-01-ValueInput.js
```

```js 50,76,68,69,56,57:62,63[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-15-02-BasicButton.js
```

</Step>



<Step title="manageState() is sufficient to fulfill any component callback">

```js 28,52,29,50,30,31:40,41[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-15-01-ValueInput.js
```

```js 50,76,51,74,52,53:62,63[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-15-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,44,29,30:41,42[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-16-01-ValueInput.js
```

```js 50,66,51,52:63,64[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-16-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,44,31,29[33:45] file=./keyframes/004-refactor/04-consumer/a/04-a-16-01-ValueInput.js
```

```js 50,66,53,51[33:45] file=./keyframes/004-refactor/04-consumer/a/04-a-16-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,44,31,29[33:45] file=./keyframes/004-refactor/04-consumer/a/04-a-17-01-ValueInput.js
```

```js 50,66,53,51[33:45] file=./keyframes/004-refactor/04-consumer/a/04-a-17-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,44,33 file=./keyframes/004-refactor/04-consumer/a/04-a-18-01-ValueInput.js
```

```js 50,66,55 file=./keyframes/004-refactor/04-consumer/a/04-a-18-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,46,43 file=./keyframes/004-refactor/04-consumer/a/04-a-19-01-ValueInput.js
```

```js 50,68,65 file=./keyframes/004-refactor/04-consumer/a/04-a-19-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,71,49,50:69,70[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-20-01-ValueInput.js
```

```js 50,95,71,72:93,94[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-20-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,71,50,51:60,61[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-20-01-ValueInput.js
```

```js 50,95,72,73:82,83[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-20-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,71,50[1:48],51,52:60,61[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-21-01-ValueInput.js
```

```js 50,95,72[1:48],73,74:82,83[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-21-02-BasicButton.js
```

</Step>



<Step title="Extract the pattern into a custom hook">

```js 28,62,50,51,52[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-22-01-ValueInput.js
```

```js 50,86,72,73,74[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-22-02-BasicButton.js
```

</Step>



<Step>

```js 44,77,62,63:73,74[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-23-01-ValueInput.js
```

```js 67,104,87,88:100,101[1:3] file=./keyframes/004-refactor/04-consumer/a/04-a-23-02-BasicButton.js
```

</Step>



<Step>

```js 44,77,56,70 file=./keyframes/004-refactor/04-consumer/a/04-a-23-01-ValueInput.js
```

```js 67,104,79,80,95,96 file=./keyframes/004-refactor/04-consumer/a/04-a-23-02-BasicButton.js
```

</Step>



<Step>

```js 45,78,57,71 file=./keyframes/004-refactor/04-consumer/a/04-a-24-01-ValueInput.js
```

```js 67,102,79,94 file=./keyframes/004-refactor/04-consumer/a/04-a-24-02-BasicButton.js
```

</Step>



<Step>

```js 2,3:28,29 file=./keyframes/004-refactor/04-consumer/a/04-a-25-01-ValueInput.js
```

```js 2,3:50,51 file=./keyframes/004-refactor/04-consumer/a/04-a-25-02-BasicButton.js
```

</Step>



<Step>

```js 2,29,8 file=./keyframes/004-refactor/04-consumer/a/04-a-25-01-ValueInput.js
```

```js 2,51,12,13:14,15[1:28] file=./keyframes/004-refactor/04-consumer/a/04-a-25-02-BasicButton.js
```

</Step>



<Step>

```js 2,31,8,10 file=./keyframes/004-refactor/04-consumer/a/04-a-26-01-ValueInput.js
```

```js 2,53,12,14,15:16,17[1:28] file=./keyframes/004-refactor/04-consumer/a/04-a-26-02-BasicButton.js
```

</Step>



<Step title="stateManager() is sufficient to fulfill any component callback">

```js 2,31,10 file=./keyframes/004-refactor/04-consumer/a/04-a-27-01-ValueInput.js
```

```js 2,53,14,15:16,17[1:28] file=./keyframes/004-refactor/04-consumer/a/04-a-27-02-BasicButton.js
```

</Step>



<Step>

```js  file=./keyframes/004-refactor/04-consumer/a/04-a-28-01-ValueInput.js
```

```js  file=./keyframes/004-refactor/04-consumer/a/04-a-28-02-BasicButton.js
```

</Step>


</CodeSurferColumns>

---

<FieldDemo />

---

<CodeSurferColumns themes={[theme1]}>


<Step>

```js  file=./keyframes/004-refactor/04-consumer/a/04-a-01-03-CodecField.js
```

</Step>



<Step title="Declare functional component">

```js 2,7,2,3:6,7 file=./keyframes/004-refactor/04-consumer/a/04-a-02-03-CodecField.js
```

</Step>



<Step title="Render some JSX">

```js 2,14,5,6:10,11[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-03-03-CodecField.js
```

</Step>



<Step title="Consume props">

```js 2,17,5,6[1:13] file=./keyframes/004-refactor/04-consumer/a/04-a-04-03-CodecField.js
```

</Step>



<Step title="Retrieve non-callback props">

```js 2,19,6,7[1:24] file=./keyframes/004-refactor/04-consumer/a/04-a-05-03-CodecField.js
```

</Step>



<Step title="Retrieve non-callback props">

```js 2,23,9,10,11[1:23] file=./keyframes/004-refactor/04-consumer/a/04-a-06-03-CodecField.js
```

</Step>



<Step title="Pass props to children">

```js 2,28,16,17:22,23[1:21] file=./keyframes/004-refactor/04-consumer/a/04-a-07-03-CodecField.js
```

</Step>



<Step title="Retrieve callback props">

```js 2,30,13[1:45] file=./keyframes/004-refactor/04-consumer/a/04-a-08-03-CodecField.js
```

</Step>



<Step title="Listen for child events">

```js 2,41,18,19:24,25[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-09-03-CodecField.js
```

</Step>



<Step title="Listen for child events">

```js 2,41,29,32,34,18,19:24,25[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-10-03-CodecField.js
```

</Step>



<Step title="Listen for child events">

```js 18,19[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-10-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 19,20:21,22[1:8],18,19:22,23[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-11-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 19,20:22,23[1:8],18,19:23,24[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-12-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 19,20:22,23[1:8],18,19:23,24[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-13-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 26,27:39,40[1:5],18,19:23,24[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-14-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 20[43:53],21[41:51],28[43:55],29[41:53],36[43:55],37[41:53] file=./keyframes/004-refactor/04-consumer/a/04-a-14-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 26,27:31,32[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-14-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 27,28:33,34[1:6],26,41 file=./keyframes/004-refactor/04-consumer/a/04-a-15-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 30[1:45] file=./keyframes/004-refactor/04-consumer/a/04-a-15-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 27,28:33,34[1:6],26,41 file=./keyframes/004-refactor/04-consumer/a/04-a-15-03-CodecField.js
```

</Step>



<Step title="Adapt signature from child to parent state manager">

```js 43,44:48,49[1:5] file=./keyframes/004-refactor/04-consumer/a/04-a-15-03-CodecField.js
```

</Step>



<Step>

```js 46,47:52,53[1:6],45,60 file=./keyframes/004-refactor/04-consumer/a/04-a-16-03-CodecField.js
```

</Step>



<Step>

```js 49[1:45] file=./keyframes/004-refactor/04-consumer/a/04-a-16-03-CodecField.js
```

</Step>



<Step>

```js 2,3:75,76 file=./keyframes/004-refactor/04-consumer/a/04-a-16-03-CodecField.js
```

</Step>



<Step>

```js 2,3:17,18 file=./keyframes/004-refactor/04-consumer/a/04-a-17-03-CodecField.js
```

</Step>



<Step>

```js  file=./keyframes/004-refactor/04-consumer/a/04-a-18-03-CodecField.js
```

</Step>


</CodeSurferColumns>

---

<CodeSurferColumns themes={[theme1, theme2]} sizes={[7, 5]}>

<Step>

```md title="Benefits"

* Flexible and fully controlled

* Consistent and uniform API

* Easy to consume

```

```md title="Drawbacks"

- More involved to produce

- Unfamiliar pattern

- Lots of room for improvement

```

</Step>

</CodeSurferColumns>

---

<CodeSurfer theme={theme1}>

```md title="Future work"

* More ergonomic (lazy) composition

* Async side-effects with saga argument

* Integration with statecharts
  - (or some other visualizable state model)

```

</CodeSurfer>

---

# Thanks to my colleagues
# at MediaMath

---

<CodeSurfer theme={theme1}>

```md title="Questions?" subtitle="@jfinity -- https://github.com/jfinity/managed-attrs#run-the-slides"

```

</CodeSurfer>

---

